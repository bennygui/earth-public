/**
 *------
 * BGA framework: © Gregory Isabelli <gisabelli@boardgamearena.com> & Emmanuel Colin <ecolin@boardgamearena.com>
 * earth implementation : © Guillaume Benny bennygui@gmail.com
 *
 * This code has been produced on the BGA studio platform for use on http://boardgamearena.com.
 * See http://en.boardgamearena.com/#!doc/Studio for more information.
 * -----
 *
 * earth.scss
 *
 * earth stylesheet
 *
 */

@use "sass:math";
@use "sass:list";
@use "sass:color";
@import 'modules/BX/scss/utils.scss';

$static-scale: 0.75;
$card-width: 400 * $static-scale;
$card-height: 620 * $static-scale;
$card-height-compact: 423 * $static-scale;
$card-height-compact-top: 345 * $static-scale;
$card-height-compact-bottom: 472 * $static-scale;
$card-back-pos-y-compact-bottom: 405 * $static-scale;
$card-height-objective-bottom: 544 * $static-scale;
$card-back-pos-y-objective-bottom: 477 * $static-scale;
$card-height-objective-long-bottom: 522 * $static-scale;
$card-back-pos-y-objective-long-bottom: 454 * $static-scale;

html.ea-background-dark {
    background-image: url('img/background/insideup.jpg');
}

.bx-clickable.bx-border {
    outline: 4px solid red !important;
}

body {
    --ea-zoom: 0.45;
}

#logs,
#chatbar {
    --ea-zoom: 0.45;

    & .ea-card-container {
        margin-top: 5px;
    }
}

#page-title .action-button.bgabutton {
    margin-top: 5px;
    margin-bottom: 5px;
}

#ea-area-full {
    display: flex;
    flex-direction: column;
    align-items: center;
}

#ea-display-last-round {
    padding: 5px;
    text-align: center;
    background-color: #c10707;
    font-weight: bold;
    margin: 5px;
    border-radius: 10px;
    color: white;
    box-shadow: 0px 0px 3px black;

    .ea-background-dark & {
        box-shadow: 0px 0px 3px white;
    }
}

.ea-display-empty-deck {
    padding: 5px;
    text-align: center;
    background-color: #c10707;
    font-weight: bold;
    margin: 5px;
    margin-bottom: 10px;
    border-radius: 10px;
    color: white;
    box-shadow: 0px 0px 3px black;

    .ea-background-dark & {
        box-shadow: 0px 0px 3px white;
    }
}

.ea-bgabutton-black-border {
    border: 1px solid black;
}

// Counters
.ea-counter {
    font-size: 0.8rem;
    font-weight: bold;
    background-color: white;
    padding: 0.3rem;
    border-radius: 100rem;
    border: 1px black solid;
    min-width: 1.5rem;
    text-align: center;
}

// Hand
#ea-area-card-hand-container {
    --ea-zoom: 0.5;
    order: 1;
    display: flex;
    flex-direction: row;
    align-self: flex-start;
    background-color: #ffffff33;
    border-radius: 5px;

    &.ea-hand-below-tableau {
        order: 3;
    }

    &.ea-hand-one-line {
        width: calc(100% - 20px);
    }

    &.ea-hand-float {
        position: fixed;
        bottom: 0px;
        left: 0px;
        z-index: 50;
        width: 75%;
        background-color: #ffffffaa;
        padding-bottom: 20px;
        border: 2px #5d844d9e solid;

        @media (max-width: 810px) {
            padding-bottom: 90px;
        }

        @media (max-width: 420px) {
            padding-bottom: 120px;
        }
    }
}

#ea-area-card-hand-config {
    display: flex;
    flex-direction: column;
    justify-content: start;
    align-self: flex-start;
    background-color: #ffffff80;
    margin-left: 5px;
    padding: 10px;
    transition: width 0.3s, height 0.3s, padding 0.3s;
    width: 10rem;
    border-bottom-right-radius: 10px;

    .ea-hand-float & {
        background-color: white;
        margin-top: 10px;
    }

    .ea-ui-button {
        align-self: center;
    }

    #ea-area-card-hand-container.ea-config-closed & {
        width: 0px;
        padding: 0px;

        input {
            display: none;
        }

        * {
            width: 0px;
            max-width: 0px;
            border: 0px;
        }
    }
}

#ea-area-card-hand-config-control {
    display: flex;
    flex-direction: column;
    justify-content: start;
    align-self: flex-start;
    background-color: #ffffff80;
    padding-top: 10px;
    border-top-right-radius: 10px;
    border-bottom-right-radius: 10px;

    .ea-hand-float & {
        background-color: white;
        margin-top: 10px;
    }
}

#ea-area-card-hand-config-controller {
    font-size: 2rem;
    transition: transform 0.2s;
    transform: rotate(90deg);
    cursor: pointer;

    #ea-area-card-hand-container.ea-config-closed & {
        transform: rotate(-90deg);
    }
}

#ea-area-card-hand {
    margin: 10px;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: center;

    .ea-card-container {
        margin: 5px;
    }

    .ea-hand-float & {
        width: 100%;
        align-items: end;
    }

    .ea-hand-one-line & {
        flex-wrap: nowrap;
        justify-content: left;
        overflow-x: scroll;
    }

    .ea-hand-compact & {
        .ea-card-container {
            margin: 0px;
            margin-left: calc(-10px * var(--ea-zoom));
        }

        .ea-card-container:first-child {
            margin-left: 0px;
        }

        .bx-selected {
            z-index: 1;
        }
    }
}

// End Turn Event
#ea-area-card-end-turn-container {
    order: 1;
    width: 90%;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    align-self: center;
    justify-content: center;
    background-color: #ffffff33;
    border-radius: 5px;

    margin: 10px;
    padding: 10px;

    &:empty {
        margin: 0px;
        padding: 0px;
    }

    .ea-card-container {
        margin: 5px;
        order: var(--ea-end-turn-order);
    }
}

// Common Area
#ea-area-common {
    order: 4;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: center;
    margin: 10px;
}

// Fauna Board
#ea-fauna-board {
    position: relative;
    width: calc(1902px * #{$static-scale} * var(--ea-zoom));
    height: calc(1533px * #{$static-scale} * var(--ea-zoom));
    background-image: url('img/board/fauna.jpg');
    image-rendering: -webkit-optimize-contrast;
    background-size: calc(1902px * #{$static-scale} * var(--ea-zoom)) calc(1533px * #{$static-scale} * var(--ea-zoom));
    box-shadow: 0px 0px 5px black;

    &.ea-fauna-board-beginner {
        background-image: url('img/board/fauna_beginner.jpg');
    }

    .ea-background-dark & {
        box-shadow: 0px 0px 5px white;
    }
}

#ea-fauna-board-fauna-abundance-tableau-bonus {
    position: absolute;
    top: calc(704px * #{$static-scale} * var(--ea-zoom));
    left: calc(1358px * #{$static-scale} * var(--ea-zoom));
    z-index: 1;

    .ea-fauna-board-beginner & {
        top: calc(702px * #{$static-scale} * var(--ea-zoom));
        left: calc(894px * #{$static-scale} * var(--ea-zoom));
    }

    width: calc(84px * var(--ea-zoom));
    height: calc(95px * var(--ea-zoom));
    background-image: url('img/board/fauna_abundance_11.jpg');
    image-rendering: -webkit-optimize-contrast;
    background-size: calc(84px * var(--ea-zoom)) calc(95px * var(--ea-zoom));
}

#ea-fauna-board-fauna-card-0-0 {
    position: absolute;
    top: calc(60px * #{$static-scale} * var(--ea-zoom));
    left: calc(48px * #{$static-scale} * var(--ea-zoom));

    .ea-fauna-board-beginner & {
        left: calc(426px * #{$static-scale} * var(--ea-zoom));
    }
}

#ea-fauna-board-fauna-card-0-1 {
    position: absolute;
    top: calc(60px * #{$static-scale} * var(--ea-zoom));
    left: calc(945px * #{$static-scale} * var(--ea-zoom));

    .ea-fauna-board-beginner & {
        left: calc(1076px * #{$static-scale} * var(--ea-zoom));
    }
}

#ea-fauna-board-fauna-card-1-0 {
    position: absolute;
    top: calc(855px * #{$static-scale} * var(--ea-zoom));
    left: calc(48px * #{$static-scale} * var(--ea-zoom));

    .ea-fauna-board-beginner & {
        left: calc(426px * #{$static-scale} * var(--ea-zoom));
    }
}

#ea-fauna-board-fauna-card-1-1 {
    position: absolute;
    top: calc(855px * #{$static-scale} * var(--ea-zoom));
    left: calc(945px * #{$static-scale} * var(--ea-zoom));

    .ea-fauna-board-beginner & {
        left: calc(1076px * #{$static-scale} * var(--ea-zoom));
    }
}

#ea-fauna-board-ecosystem-card-0 {
    position: absolute;
    top: calc(60px * #{$static-scale} * var(--ea-zoom));
    left: calc(1450px * #{$static-scale} * var(--ea-zoom));
}

#ea-fauna-board-ecosystem-card-1 {
    position: absolute;
    top: calc(855px * #{$static-scale} * var(--ea-zoom));
    left: calc(1450px * #{$static-scale} * var(--ea-zoom));
}

@mixin mixin-ea-fauna-board-leaf($y, $x, $top, $left, $top-beginner, $left-beginner) {
    $side: -100;

    @if $y==1 {
        $side: 100;
    }

    #ea-fauna-board-fauna-leaf-#{$x}-#{$y}-wait {
        position: absolute;
        top: calc(#{$top + 160}px * #{$static-scale} * var(--ea-zoom));
        left: calc(#{$left + $side}px * #{$static-scale} * var(--ea-zoom));
        z-index: 1;
        display: flex;
        flex-direction: column;

        @for $i from 1 through 5 {
            :nth-child(#{$i}) {
                z-index: #{5 - $i};

                @if $i !=1 {
                    margin-top: calc(-30px * #{$static-scale} * var(--ea-zoom));
                }
            }
        }
    }

    @for $id from 0 through 4 {
        #ea-fauna-board-fauna-leaf-#{$x}-#{$y}-#{$id} {
            position: absolute;
            top: calc(#{$top + $id * 112}px * #{$static-scale} * var(--ea-zoom));
            left: calc(#{$left}px * #{$static-scale} * var(--ea-zoom));
            z-index: 1;

            .ea-fauna-board-beginner & {
                top: calc(#{$top-beginner + $id * 112}px * #{$static-scale} * var(--ea-zoom));
                left: calc(#{$left-beginner}px * #{$static-scale} * var(--ea-zoom));
            }
        }
    }
}

@include mixin-ea-fauna-board-leaf(0, 0, 105, 505, 90, 284);
@include mixin-ea-fauna-board-leaf(0, 1, 868, 505, 890, 284);
@include mixin-ea-fauna-board-leaf(1, 0, 105, 795, 90, 1533);
@include mixin-ea-fauna-board-leaf(1, 1, 868, 795, 890, 1533);

#ea-fauna-board-fauna-leaf-tableau-bonus {
    position: absolute;
    top: calc(710px * #{$static-scale} * var(--ea-zoom));
    left: calc(1246px * #{$static-scale} * var(--ea-zoom));
    z-index: 1;

    .ea-fauna-board-beginner & {
        top: calc(875px * #{$static-scale} * var(--ea-zoom));
        left: calc(900px * #{$static-scale} * var(--ea-zoom));
    }
}

#ea-fauna-board-fauna-progress-button {
    position: absolute;
    top: calc(684px * 0.75 * var(--ea-zoom));
    left: calc(497px * 0.75 * var(--ea-zoom));

    .ea-fauna-board-beginner & {
        top: calc(684px * 0.75 * var(--ea-zoom));
        left: calc(1516px * 0.75 * var(--ea-zoom));
    }

    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;

    background-color: #144364;
    border: 1px solid #08283e;
    border-radius: 5px;
    cursor: pointer;
    margin-top: 10px;
    margin-bottom: 10px;
    margin-left: 10px;
    vertical-align: middle;
    color: white;
    font-size: 14px;
    font-weight: bold;
    padding: 6px 12px;
    box-shadow: 0 1px 0 #000;

    .ea-icon-card-type-fauna {
        margin-right: 10px;
    }
}

// Deck / Discard Area
#ea-area-deck-discard {
    display: flex;
    flex-direction: column;
    justify-content: center;
    margin: 10px;

    & .ea-card {
        margin-top: 10px;
    }

    & .ea-card:not(:first-child) {
        position: absolute;
    }

    & .ea-card-container {
        position: absolute;
    }

    @for $i from 2 through 100 {
        & .ea-card:nth-child(#{$i}) {
            top: #{($i - 1) * 2}px;
            left: #{($i - 1) * 2}px;
        }
    }
}

#ea-area-deck,
#ea-area-discard {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
}

#ea-area-discard {
    & .ea-card:first-child {
        opacity: 0.4;
        border: 2px black dashed;
    }
}

#ea-deck-count,
#ea-discard-count {
    margin-top: -1rem;
    z-index: 1;
}

// Gaia board
#ea-area-gaia-board {
    margin: 20px;
}

#ea-gaia-board {
    position: relative;
    width: calc(2260px * #{$static-scale} * var(--ea-zoom));
    height: calc(1870px * #{$static-scale} * var(--ea-zoom));
    background-image: url('img/board/gaia.jpg');
    image-rendering: -webkit-optimize-contrast;
    background-size: calc(2260px * #{$static-scale} * var(--ea-zoom)) calc(1870px * #{$static-scale} * var(--ea-zoom));
    box-shadow: 0px 0px 5px black;

    .ea-background-dark & {
        box-shadow: 0px 0px 5px white;
    }

    .ea-gaia-growth-container {
        position: absolute;
        width: calc(75px * #{$static-scale} * var(--ea-zoom));
        height: calc(60px * #{$static-scale} * var(--ea-zoom));
        border: 4px solid transparent;
        border-radius: calc(15px * 0.75 * var(--ea-zoom));

        @media (max-width: 480px) {
            border: 4px solid transparent;
        }

        .ea-counter {
            position: absolute;
            top: -1rem;
            left: -1.5rem;
            min-width: 1rem;
            opacity: 0;
        }
    }
}

#ea-gaia-board-sprout-count {
    position: absolute;
    top: calc(55px * #{$static-scale} * var(--ea-zoom));
    left: calc(422px * #{$static-scale} * var(--ea-zoom));
}

#ea-gaia-board-growth-count {
    position: absolute;
    top: calc(55px * #{$static-scale} * var(--ea-zoom));
    right: calc(422px * #{$static-scale} * var(--ea-zoom));
}

#ea-gaia-board-leaf-board-0,
#ea-gaia-board-leaf-board-5 {
    position: absolute;
    top: calc(289px * #{$static-scale} * var(--ea-zoom));
    left: calc(1082px * #{$static-scale} * var(--ea-zoom));
    transform: rotate(315deg);
}

#ea-gaia-board-leaf-board-1 {
    position: absolute;
    top: calc(318px * #{$static-scale} * var(--ea-zoom));
    left: calc(975px * #{$static-scale} * var(--ea-zoom));
    transform: rotate(288deg);
}

#ea-gaia-board-leaf-board-2 {
    position: absolute;
    top: calc(388px * #{$static-scale} * var(--ea-zoom));
    left: calc(892px * #{$static-scale} * var(--ea-zoom));
    transform: rotate(270deg);
}

#ea-gaia-board-leaf-board-3 {
    position: absolute;
    top: calc(318px * #{$static-scale} * var(--ea-zoom));
    left: calc(1190px * #{$static-scale} * var(--ea-zoom));
    transform: rotate(355deg);
}

#ea-gaia-board-leaf-board-4 {
    position: absolute;
    top: calc(388px * #{$static-scale} * var(--ea-zoom));
    left: calc(1269px * #{$static-scale} * var(--ea-zoom));
    transform: rotate(0deg);
}

#ea-gaia-soil-count {
    position: absolute;
    top: calc(552px * #{$static-scale} * var(--ea-zoom));
    left: calc(1062px * #{$static-scale} * var(--ea-zoom));
}

#ea-gaia-soil-box {
    position: absolute;
    top: calc(650px * #{$static-scale} * var(--ea-zoom));
    left: calc(905px * #{$static-scale} * var(--ea-zoom));
    width: calc(436px * #{$static-scale} * var(--ea-zoom));
    height: calc(181px * #{$static-scale} * var(--ea-zoom));
}

#ea-gaia-board-compost {
    position: absolute;
    top: calc(1115px * #{$static-scale} * var(--ea-zoom));
    left: calc(154px * #{$static-scale} * var(--ea-zoom));
    display: flex;
    flex-direction: column;
    align-items: center;

    #ea-gaia-board-compost-cards {
        width: calc(#{$card-width}px * var(--ea-zoom));
        height: calc(#{$card-height}px * var(--ea-zoom));

        & .ea-card-container {
            position: absolute;
        }

        @for $i from 1 through 100 {
            & .ea-card:nth-child(#{$i}) {
                position: absolute;
                top: #{($i - 1) * 2}px;
                left: #{($i - 1) * 2}px;
            }
        }
    }

    #ea-gaia-board-compost-count {
        margin-top: -1rem;
        z-index: 1;
    }
}

#ea-gaia-board-tableau {
    position: absolute;
    top: calc(1115px * #{$static-scale} * var(--ea-zoom));
    left: calc(670px * #{$static-scale} * var(--ea-zoom));
    display: flex;
    flex-direction: column;
    align-items: center;

    #ea-gaia-board-tableau-cards {
        width: calc(#{$card-width}px * var(--ea-zoom));
        height: calc(#{$card-height}px * var(--ea-zoom));

        & .ea-card-container {
            position: absolute;
        }

        @for $i from 1 through 100 {
            & .ea-card-container:nth-child(#{$i}) {
                position: absolute;
                top: #{($i - 1) * 2}px;
                left: #{($i - 1) * 2}px;
            }
        }
    }

    #ea-gaia-board-tableau-count {
        margin-top: -1rem;
        z-index: 1;
    }

    #ea-gaia-board-tableau-help {
        position: absolute;
        bottom: calc(-121px * 0.75 * var(--ea-zoom));
        left: calc(0px * 0.75 * var(--ea-zoom));
    }
}

#ea-gaia-board-round-count {
    position: absolute;
    top: calc(1050px * #{$static-scale} * var(--ea-zoom));
    left: calc(1590px * #{$static-scale} * var(--ea-zoom));
}

#ea-gaia-board-deck {
    position: absolute;
    top: calc(1115px * #{$static-scale} * var(--ea-zoom));
    left: calc(1180px * #{$static-scale} * var(--ea-zoom));
    display: flex;
    flex-direction: column;
    align-items: center;

    #ea-gaia-board-deck-cards {
        width: calc(#{$card-width}px * var(--ea-zoom));
        height: calc(#{$card-height}px * var(--ea-zoom));

        & .ea-card-container {
            position: absolute;
        }

        @for $i from 1 through 100 {
            & .ea-card:nth-child(#{$i}) {
                position: absolute;
                top: #{($i - 1) * 2}px;
                left: #{($i - 1) * 2}px;
            }
        }
    }

    #ea-gaia-board-deck-count {
        margin-top: -1rem;
        z-index: 1;
    }
}

#ea-gaia-board-gaia-card {
    position: absolute;
    top: calc(1115px * #{$static-scale} * var(--ea-zoom));
    left: calc(1692px * #{$static-scale} * var(--ea-zoom));
    display: flex;
    flex-direction: column;
    align-items: center;

    #ea-gaia-board-gaia-card-cards {
        width: calc(#{$card-width}px * var(--ea-zoom));
        height: calc(#{$card-height}px * var(--ea-zoom));

        & .ea-card-container {
            position: absolute;
        }

        @for $i from 1 through 100 {
            & .ea-card-container:nth-child(#{$i}) {
                position: absolute;
                top: #{($i - 1) * 2}px;
                left: #{($i - 1) * 2}px;
            }
        }
    }

    #ea-gaia-board-gaia-card-count {
        margin-top: -1rem;
        z-index: 1;
    }

    #ea-gaia-board-gaia-card-help {
        position: absolute;
        bottom: calc(-121px * 0.75 * var(--ea-zoom));
        left: calc(0px * 0.75 * var(--ea-zoom));

        .bx-moving & {
            display: none;
        }
    }
}

#ea-gaia-board-abundance-leaf {
    position: absolute;
    top: calc(950px * #{$static-scale} * var(--ea-zoom));
    left: calc(870px * #{$static-scale} * var(--ea-zoom));
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;

    width: calc(500px * #{$static-scale} * var(--ea-zoom));

    .ea-token-leaf {
        margin: 2px;
    }
}


// Player area
.ea-area-player {
    order: 5;
    margin: 10px;
}

.ea-area-player-title {
    background: #32562c;
    background: radial-gradient(circle, #32562cff 30%, #32562c80 70%, #32562c00 100%);
    padding: 2px;
    border-radius: 10px;
    margin: 10px;
    text-align: center;
}

.ea-area-player-zone {
    display: flex;
    flex-flow: row;
    flex-wrap: wrap;
    align-items: center;
    justify-content: center;
}

.ea-area-player-tableau-container {
    background-color: #32562c54;
    margin: 10px;
    padding: 10px;
    border-radius: 10px;
}

.ea-area-player-tableau {
    position: relative;
    margin: 20px;
    transition: width 0.3s ease-in-out, height 0.3s ease-in-out;
}

.ea-scoring-lines {
    position: absolute;
    top: 0px;
    left: 0px;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 10;

    path {
        stroke: #a60dd9bf;
        stroke-width: calc(20 * var(--ea-zoom));
        stroke-linecap: round;
        stroke-linejoin: round;
        fill: none;
    }
}

.ea-area-player-board {
    position: relative;

    .ea-token-active-player {
        position: absolute;
        z-index: -1;
        top: calc(-20px * #{$static-scale} * var(--ea-zoom));
        transition: top 0.5s ease-in-out;

        &.ea-token-inactive {
            top: calc(150px * #{$static-scale} * var(--ea-zoom));
        }

        &.ea-player-board-active-player-action-0 {
            left: calc(22px * #{$static-scale} * var(--ea-zoom));
        }

        &.ea-player-board-active-player-action-1 {
            left: calc(490px * #{$static-scale} * var(--ea-zoom));
        }

        &.ea-player-board-active-player-action-2 {
            left: calc(958px * #{$static-scale} * var(--ea-zoom));
        }

        &.ea-player-board-active-player-action-3 {
            left: calc(1420px * #{$static-scale} * var(--ea-zoom));
        }
    }
}

.ea-player-board {
    position: relative;
    width: calc(1870px * #{$static-scale} * var(--ea-zoom));
    height: calc(1821px * #{$static-scale} * var(--ea-zoom));
    background-image: url('img/board/player.jpg');
    image-rendering: -webkit-optimize-contrast;
    background-size: calc(1870px * #{$static-scale} * var(--ea-zoom)) calc(1821px * #{$static-scale} * var(--ea-zoom));
    box-shadow: 0px 0px 5px black;
    margin-top: calc(100px * #{$static-scale} * var(--ea-zoom));

    .ea-background-dark & {
        box-shadow: 0px 0px 5px white;
    }

    .ea-player-board-solo-easy {
        position: absolute;
        top: 0px;
        left: 0px;
        width: calc(1870px * #{$static-scale} * var(--ea-zoom));
        height: calc(302px * #{$static-scale} * var(--ea-zoom));
        background-image: url('img/board/player_solo_easy.jpg');
        image-rendering: -webkit-optimize-contrast;
        background-size: calc(1870px * #{$static-scale} * var(--ea-zoom)) calc(302px * #{$static-scale} * var(--ea-zoom));
    }

    .ea-player-board-solo-hard {
        position: absolute;
        top: 0px;
        left: 0px;
        width: calc(1870px * #{$static-scale} * var(--ea-zoom));
        height: calc(302px * #{$static-scale} * var(--ea-zoom));
        background-image: url('img/board/player_solo_hard.jpg');
        image-rendering: -webkit-optimize-contrast;
        background-size: calc(1870px * #{$static-scale} * var(--ea-zoom)) calc(302px * #{$static-scale} * var(--ea-zoom));
    }
}

.ea-player-board-bottom {
    position: relative;
    width: calc(1870px * #{$static-scale} * var(--ea-zoom));
    height: calc(438px * #{$static-scale} * var(--ea-zoom));
    background-image: url('img/board/player_bottom.jpg');
    image-rendering: -webkit-optimize-contrast;
    background-size: calc(1870px * #{$static-scale} * var(--ea-zoom)) calc(438px * #{$static-scale} * var(--ea-zoom));
    box-shadow: 0px 5px 5px 0 black;

    .ea-background-dark & {
        box-shadow: 0px 5px 5px 0 white;
    }

    * {
        position: absolute;
        bottom: 0px;
        width: calc(102px * #{$static-scale} * var(--ea-zoom));
        height: 80%;
    }

    .ea-player-board-bottom-resources {
        bottom: unset;
        top: 0px;
        left: 0px;
        width: 50%;
        height: calc(54px * #{$static-scale} * var(--ea-zoom));
    }

    .ea-player-board-bottom-endgame {
        bottom: unset;
        top: 0px;
        left: 50%;
        width: 50%;
        height: calc(54px * #{$static-scale} * var(--ea-zoom));
    }

    .ea-player-board-bottom-sprout {
        left: calc(50px * #{$static-scale} * var(--ea-zoom));
    }

    .ea-player-board-bottom-compost {
        left: calc(180px * #{$static-scale} * var(--ea-zoom));
        width: calc(182px * #{$static-scale} * var(--ea-zoom));
    }

    .ea-player-board-bottom-growth {
        left: calc(387px * #{$static-scale} * var(--ea-zoom));
    }

    .ea-player-board-bottom-draw {
        left: calc(507px * #{$static-scale} * var(--ea-zoom));
    }

    .ea-player-board-bottom-plant {
        left: calc(627px * #{$static-scale} * var(--ea-zoom));
    }

    .ea-player-board-bottom-spend {
        left: calc(772px * #{$static-scale} * var(--ea-zoom));
    }

    .ea-player-board-bottom-score-base {
        bottom: unset;
        top: calc(83px * #{$static-scale} * var(--ea-zoom));
        left: calc(1062px * #{$static-scale} * var(--ea-zoom));
        width: calc(381px * #{$static-scale} * var(--ea-zoom));
        height: calc(78px * #{$static-scale} * var(--ea-zoom));
    }

    .ea-player-board-bottom-score-event {
        bottom: unset;
        top: calc(170px * #{$static-scale} * var(--ea-zoom));
        left: calc(1062px * #{$static-scale} * var(--ea-zoom));
        width: calc(381px * #{$static-scale} * var(--ea-zoom));
        height: calc(78px * #{$static-scale} * var(--ea-zoom));
    }

    .ea-player-board-bottom-score-compost {
        bottom: unset;
        top: calc(257px * #{$static-scale} * var(--ea-zoom));
        left: calc(1062px * #{$static-scale} * var(--ea-zoom));
        width: calc(381px * #{$static-scale} * var(--ea-zoom));
        height: calc(78px * #{$static-scale} * var(--ea-zoom));
    }

    .ea-player-board-bottom-score-sprout {
        bottom: unset;
        top: calc(347px * #{$static-scale} * var(--ea-zoom));
        left: calc(1062px * #{$static-scale} * var(--ea-zoom));
        width: calc(381px * #{$static-scale} * var(--ea-zoom));
        height: calc(78px * #{$static-scale} * var(--ea-zoom));
    }

    .ea-player-board-bottom-score-growth {
        bottom: unset;
        top: calc(83px * #{$static-scale} * var(--ea-zoom));
        left: calc(1452px * #{$static-scale} * var(--ea-zoom));
        width: calc(381px * #{$static-scale} * var(--ea-zoom));
        height: calc(78px * #{$static-scale} * var(--ea-zoom));
    }

    .ea-player-board-bottom-score-terrain {
        bottom: unset;
        top: calc(170px * #{$static-scale} * var(--ea-zoom));
        left: calc(1452px * #{$static-scale} * var(--ea-zoom));
        width: calc(381px * #{$static-scale} * var(--ea-zoom));
        height: calc(78px * #{$static-scale} * var(--ea-zoom));
    }

    .ea-player-board-bottom-score-ecosystem {
        bottom: unset;
        top: calc(257px * #{$static-scale} * var(--ea-zoom));
        left: calc(1452px * #{$static-scale} * var(--ea-zoom));
        width: calc(381px * #{$static-scale} * var(--ea-zoom));
        height: calc(78px * #{$static-scale} * var(--ea-zoom));
    }

    .ea-player-board-bottom-score-fauna {
        bottom: unset;
        top: calc(347px * #{$static-scale} * var(--ea-zoom));
        left: calc(1452px * #{$static-scale} * var(--ea-zoom));
        width: calc(381px * #{$static-scale} * var(--ea-zoom));
        height: calc(78px * #{$static-scale} * var(--ea-zoom));
    }
}

.ea-player-board-bottom-abundance {
    position: relative;
    width: calc(1870px * #{$static-scale} * var(--ea-zoom));
    height: calc(438px * #{$static-scale} * var(--ea-zoom));
    background-image: url('img/board/player_bottom_abundance.jpg');
    image-rendering: -webkit-optimize-contrast;
    background-size: calc(1870px * #{$static-scale} * var(--ea-zoom)) calc(438px * #{$static-scale} * var(--ea-zoom));
    box-shadow: 0px 5px 5px 0 black;

    &.ea-solo {
        background-image: url('img/board/player_bottom_abundance_solo.jpg');
    }

    .ea-background-dark & {
        box-shadow: 0px 5px 5px 0 white;
    }

    * {
        position: absolute;
        bottom: 0px;
        width: calc(102px * #{$static-scale} * var(--ea-zoom));
        height: 70%;
    }

    .ea-player-board-bottom-abundance-create-seed {
        bottom: unset;
        top: calc(13px * #{$static-scale} * var(--ea-zoom));
        left: calc(60px * #{$static-scale} * var(--ea-zoom));
        width: calc(550px * #{$static-scale} * var(--ea-zoom));
        height: calc(67px * #{$static-scale} * var(--ea-zoom));
        border-radius: calc(15px * 0.75 * var(--ea-zoom));
    }

    &.ea-solo .ea-player-board-bottom-abundance-create-seed {
        top: calc(23px * #{$static-scale} * var(--ea-zoom));
    }

    .ea-player-board-bottom-abundance-use-seed {
        bottom: unset;
        top: calc(13px * #{$static-scale} * var(--ea-zoom));
        left: calc(820px * #{$static-scale} * var(--ea-zoom));
        width: calc(900px * #{$static-scale} * var(--ea-zoom));
        height: calc(67px * #{$static-scale} * var(--ea-zoom));
        border-radius: calc(15px * 0.75 * var(--ea-zoom));
    }

    &.ea-solo .ea-player-board-bottom-abundance-use-seed {
        top: calc(23px * #{$static-scale} * var(--ea-zoom));
        left: calc(860px * #{$static-scale} * var(--ea-zoom));
    }

    .ea-player-board-bottom-abundance-germinate {
        left: calc(90px * #{$static-scale} * var(--ea-zoom));
    }

    .ea-player-board-bottom-abundance-player-1 {
        left: calc(250px * #{$static-scale} * var(--ea-zoom));
    }

    .ea-player-board-bottom-abundance-player-2 {
        left: calc(450px * #{$static-scale} * var(--ea-zoom));
    }

    .ea-player-board-bottom-abundance-sprout-storage {
        bottom: unset;
        top: calc(140px* 0.75* var(--ea-zoom));
        left: calc(750px* 0.75* var(--ea-zoom));
        width: calc(870px* 0.75* var(--ea-zoom));
        height: calc(300px* 0.75* var(--ea-zoom));
        border-radius: calc(15px* 0.75* var(--ea-zoom));
    }

    .ea-player-board-bottom-abundance-end-turn-sprout {
        right: calc(110px * #{$static-scale} * var(--ea-zoom));
    }
}

.ea-area-player-board {
    details {
        .ea-show-icon-help {
            display: inline;
        }

        .ea-hide-icon-help {
            display: none;
        }

        &[open] {
            .ea-show-icon-help {
                display: none;
            }

            .ea-hide-icon-help {
                display: inline;
            }
        }

        summary {
            position: relative;
            top: -20px;
            left: 10px;
            font-size: 15px;
            color: black;
            cursor: pointer;
            -webkit-text-size-adjust: 100%;

            p {
                font-weight: bold;
                font-size: 12px;
                -webkit-text-size-adjust: 100%;
            }
        }

        .ea-player-board-bottom,
        .ea-player-board-bottom-abundance {
            top: -20px;
        }
    }
}

.ea-player-board-leaf-board-0,
.ea-player-board-leaf-board-5 {
    position: absolute;
    top: calc(1297px * #{$static-scale} * var(--ea-zoom));
    left: calc(877px * #{$static-scale} * var(--ea-zoom));
    transform: rotate(315deg);
}

.ea-player-board-leaf-board-0 {
    opacity: 0;
}

.ea-player-board-leaf-board-1 {
    position: absolute;
    top: calc(1306px * #{$static-scale} * var(--ea-zoom));
    left: calc(607px * #{$static-scale} * var(--ea-zoom));
    transform: rotate(270deg);
}

.ea-player-board-leaf-board-2 {
    position: absolute;
    top: calc(1212px * #{$static-scale} * var(--ea-zoom));
    left: calc(776px * #{$static-scale} * var(--ea-zoom));
    transform: rotate(302deg);
}

.ea-player-board-leaf-board-3 {
    position: absolute;
    top: calc(1212px * #{$static-scale} * var(--ea-zoom));
    left: calc(999px * #{$static-scale} * var(--ea-zoom));
    transform: rotate(329deg);
}

.ea-player-board-leaf-board-4 {
    position: absolute;
    top: calc(1305px * #{$static-scale} * var(--ea-zoom));
    left: calc(1163px * #{$static-scale} * var(--ea-zoom));
    transform: rotate(0deg);
}

.ea-player-board-leaf-action-0 {
    position: absolute;
    top: calc(193px * #{$static-scale} * var(--ea-zoom));
    left: calc(14px * #{$static-scale} * var(--ea-zoom));
}

.ea-player-board-leaf-action-1 {
    position: absolute;
    top: calc(193px * #{$static-scale} * var(--ea-zoom));
    left: calc(486px * #{$static-scale} * var(--ea-zoom));
}

.ea-player-board-leaf-action-2 {
    position: absolute;
    top: calc(193px * #{$static-scale} * var(--ea-zoom));
    left: calc(1283px * #{$static-scale} * var(--ea-zoom));
    transform: rotate(-90deg);
}

.ea-player-board-leaf-action-3 {
    position: absolute;
    top: calc(193px * #{$static-scale} * var(--ea-zoom));
    left: calc(1748px * #{$static-scale} * var(--ea-zoom));
    transform: rotate(-90deg);
}

.ea-player-board-action-0 {
    position: absolute;
    top: calc(5px * #{$static-scale} * var(--ea-zoom));
    left: calc(12px * #{$static-scale} * var(--ea-zoom));
    width: calc(430px * #{$static-scale} * var(--ea-zoom));
    height: calc(280px * #{$static-scale} * var(--ea-zoom));
    border-radius: calc(15px * 0.75 * var(--ea-zoom));
}

.ea-player-board-action-1 {
    position: absolute;
    top: calc(5px * #{$static-scale} * var(--ea-zoom));
    left: calc(485px * #{$static-scale} * var(--ea-zoom));
    width: calc(430px * #{$static-scale} * var(--ea-zoom));
    height: calc(280px * #{$static-scale} * var(--ea-zoom));
    border-radius: calc(15px * 0.75 * var(--ea-zoom));
}

.ea-player-board-action-2 {
    position: absolute;
    top: calc(5px * #{$static-scale} * var(--ea-zoom));
    left: calc(955px * #{$static-scale} * var(--ea-zoom));
    width: calc(430px * #{$static-scale} * var(--ea-zoom));
    height: calc(280px * #{$static-scale} * var(--ea-zoom));
    border-radius: calc(15px * 0.75 * var(--ea-zoom));
}

.ea-player-board-action-3 {
    position: absolute;
    top: calc(5px * #{$static-scale} * var(--ea-zoom));
    left: calc(1424px * #{$static-scale} * var(--ea-zoom));
    width: calc(430px * #{$static-scale} * var(--ea-zoom));
    height: calc(280px * #{$static-scale} * var(--ea-zoom));
    border-radius: calc(15px * 0.75 * var(--ea-zoom));
}

.ea-player-soil-count {
    position: absolute;
    top: calc(1590px * #{$static-scale} * var(--ea-zoom));
    left: calc(877px * #{$static-scale} * var(--ea-zoom));
}

.ea-player-soil-box {
    position: absolute;
    top: calc(1408px * #{$static-scale} * var(--ea-zoom));
    left: calc(712px * #{$static-scale} * var(--ea-zoom));
    width: calc(436px * #{$static-scale} * var(--ea-zoom));
    height: calc(181px * #{$static-scale} * var(--ea-zoom));
}

.ea-player-soil-conversion-box {
    position: absolute;
    top: calc(1678px * #{$static-scale} * var(--ea-zoom));
    left: calc(826px * #{$static-scale} * var(--ea-zoom));
    width: calc(225px * #{$static-scale} * var(--ea-zoom));
    height: calc(60px * #{$static-scale} * var(--ea-zoom));
    border-radius: calc(15px * 0.75 * var(--ea-zoom));
}

.ea-player-seed-count {
    position: absolute;
    top: calc(1750px * #{$static-scale} * var(--ea-zoom));
    left: calc(580px * #{$static-scale} * var(--ea-zoom));
}

.ea-player-seed-box {
    position: absolute;
    top: calc(1560px * #{$static-scale} * var(--ea-zoom));
    left: calc(536px * #{$static-scale} * var(--ea-zoom));
    width: calc(186px * #{$static-scale} * var(--ea-zoom));
    height: calc(181px * #{$static-scale} * var(--ea-zoom));
}

.ea-player-exchange-sprout-count {
    position: absolute;
    top: calc(1750px * #{$static-scale} * var(--ea-zoom));
    left: calc(1180px * #{$static-scale} * var(--ea-zoom));
}

.ea-player-exchange-sprout-box {
    position: absolute;
    top: calc(1560px * #{$static-scale} * var(--ea-zoom));
    left: calc(1136px * #{$static-scale} * var(--ea-zoom));
    width: calc(186px * #{$static-scale} * var(--ea-zoom));
    height: calc(181px * #{$static-scale} * var(--ea-zoom));
}

.ea-player-board-card-0 {
    position: absolute;
    top: calc(384px * #{$static-scale} * var(--ea-zoom));
    left: calc(102px * #{$static-scale} * var(--ea-zoom));
}

.ea-player-board-card-1 {
    position: absolute;
    top: calc(384px * #{$static-scale} * var(--ea-zoom));
    left: calc(732px * #{$static-scale} * var(--ea-zoom));
}

.ea-player-board-card-2 {
    position: absolute;
    top: calc(384px * #{$static-scale} * var(--ea-zoom));
    left: calc(1370px * #{$static-scale} * var(--ea-zoom));
}

.ea-player-board-compost {
    position: absolute;
    top: calc(1122px * #{$static-scale} * var(--ea-zoom));
    left: calc(1370px * #{$static-scale} * var(--ea-zoom));
    display: flex;
    flex-direction: column;
    align-items: center;

    & .ea-player-board-compost-cards {
        width: calc(#{$card-width}px * var(--ea-zoom));
        height: calc(#{$card-height}px * var(--ea-zoom));

        & .ea-card-container {
            position: absolute;
        }

        @for $i from 1 through 100 {
            & .ea-card:nth-child(#{$i}) {
                position: absolute;
                top: #{($i - 1) * 2}px;
                left: #{($i - 1) * 2}px;
            }
        }
    }

    & .ea-player-board-compost-count {
        margin-top: -1rem;
        z-index: 1;
    }
}

.ea-player-board-event {
    position: absolute;
    top: calc(1128px * #{$static-scale} * var(--ea-zoom));
    left: calc(102px * #{$static-scale} * var(--ea-zoom));
    display: flex;
    flex-direction: column;
    align-items: center;

    & .ea-player-board-event-cards {
        width: calc(#{$card-width}px * var(--ea-zoom));
        height: calc(#{$card-height}px * var(--ea-zoom));

        & .ea-card-container {
            position: absolute;
        }

        @for $i from 1 through 100 {
            & .ea-card-container:nth-child(#{$i}) {
                position: absolute;
                top: #{($i - 1) * 2}px;
                left: #{($i - 1) * 2}px;
            }
        }
    }

    & .ea-player-board-event-count {
        margin-top: -1rem;
        z-index: 1;
    }
}

.ea-player-board-event-help {
    position: absolute;
    top: calc(495px * #{$static-scale} * var(--ea-zoom));
    right: calc(405px * #{$static-scale} * var(--ea-zoom));
}

// Cards
@import 'modules/EA/scss/cards.scss';

// Leaf Tokens
.ea-token-leaf {
    width: calc(100px * #{$static-scale} * var(--ea-zoom));
    height: calc(100px * #{$static-scale} * var(--ea-zoom));
    background-image: url('img/token/leafs.png');
    image-rendering: -webkit-optimize-contrast;
    background-position: calc(0px * var(--ea-zoom)) calc(0px * var(--ea-zoom));
    background-size: calc(600px * #{$static-scale} * var(--ea-zoom)) calc(100px * #{$static-scale} * var(--ea-zoom));
    filter: drop-shadow(0 0 1px black);

    &.blue {
        background-position: calc(0px * var(--ea-zoom)) calc(0px * var(--ea-zoom));
    }

    &.green {
        background-position: calc(-100px * #{$static-scale} * var(--ea-zoom)) calc(0px * var(--ea-zoom));
    }

    &.purple {
        background-position: calc(-200px * #{$static-scale} * var(--ea-zoom)) calc(0px * var(--ea-zoom));
    }

    &.red {
        background-position: calc(-300px * #{$static-scale} * var(--ea-zoom)) calc(0px * var(--ea-zoom));
    }

    &.yellow {
        background-position: calc(-400px * #{$static-scale} * var(--ea-zoom)) calc(0px * var(--ea-zoom));
    }

    &.pink {
        background-position: calc(-500px * #{$static-scale} * var(--ea-zoom)) calc(0px * var(--ea-zoom));
    }

    // Remove shadow on iOS
    .bx-browser-is-ios & {
        filter: none;
    }
}

// Soil token
.ea-token-soil {
    width: calc(172px * #{$static-scale} * var(--ea-zoom));
    height: calc(172px * #{$static-scale} * var(--ea-zoom));
    background-image: url('img/token/soil.png');
    image-rendering: -webkit-optimize-contrast;
    background-size: calc(172px * #{$static-scale} * var(--ea-zoom)) calc(172px * #{$static-scale} * var(--ea-zoom));
    filter: drop-shadow(0 0 1px black);

    // Remove shadow on iOS
    .bx-browser-is-ios & {
        filter: none;
    }
}

// Seed token
.ea-token-seed {
    width: calc(170px * #{$static-scale} * var(--ea-zoom));
    height: calc(170px * #{$static-scale} * var(--ea-zoom));
    background-image: url('img/token/seed.png');
    image-rendering: -webkit-optimize-contrast;
    background-size: calc(170px * #{$static-scale} * var(--ea-zoom)) calc(170px * #{$static-scale} * var(--ea-zoom));
    filter: drop-shadow(0 0 1px black);

    // Remove shadow on iOS
    .bx-browser-is-ios & {
        filter: none;
    }
}

// Sprouts token

.ea-token-sprout-container {
    position: relative;
    width: calc(88px * #{$static-scale} * var(--ea-zoom));
    height: calc(76px * #{$static-scale} * var(--ea-zoom));
    margin-left: calc(-30px * #{$static-scale} * var(--ea-zoom));
    margin-top: calc(-7px * #{$static-scale} * var(--ea-zoom));

    #maintitlebar_content &,
    #logs &,
    #chatbar & {
        display: inline-block;
        vertical-align: middle;
        margin-left: 0.1rem;
    }
}

.ea-token-sprout {
    position: absolute;
    width: calc(88px * #{$static-scale} * var(--ea-zoom));
    height: calc(76px * #{$static-scale} * var(--ea-zoom));
    background-image: url('img/token/sprouts.png');
    image-rendering: -webkit-optimize-contrast;
    background-size: calc(176px * #{$static-scale} * var(--ea-zoom)) calc(76px * #{$static-scale} * var(--ea-zoom));
    background-position: calc(0px * var(--ea-zoom)) calc(0px * var(--ea-zoom));
    z-index: 1;
    transform-origin: 75% 40%;
}

.ea-token-sprout-shadow {
    position: absolute;
    width: calc(88px * #{$static-scale} * var(--ea-zoom));
    height: calc(76px * #{$static-scale} * var(--ea-zoom));
    background-image: url('img/token/sprouts.png');
    image-rendering: -webkit-optimize-contrast;
    background-size: calc(176px * #{$static-scale} * var(--ea-zoom)) calc(76px * #{$static-scale} * var(--ea-zoom));
    background-position: calc(-88px * #{$static-scale} * var(--ea-zoom)) calc(0px * var(--ea-zoom));
    z-index: 0;

    .ea-piece-shadow-inactive & {
        background-image: none;
    }
}

// Growth token
.ea-token-growth-container {
    position: absolute;
    width: calc(95px * #{$static-scale} * var(--ea-zoom));
    height: calc(88px * #{$static-scale} * var(--ea-zoom));
    margin-left: calc(-24px * #{$static-scale} * var(--ea-zoom));
    margin-top: calc(0px * var(--ea-zoom));

    #maintitlebar_content &,
    #logs &,
    #chatbar & {
        position: relative;
        display: inline-block;
        vertical-align: middle;
        margin-left: 0.1rem;
    }
}

.ea-token-trunk {
    position: absolute;
    width: calc(95px * #{$static-scale} * var(--ea-zoom));
    height: calc(88px * #{$static-scale} * var(--ea-zoom));
    background-image: url('img/token/growth.png');
    image-rendering: -webkit-optimize-contrast;
    background-size: calc(414px * #{$static-scale} * var(--ea-zoom)) calc(352px * #{$static-scale} * var(--ea-zoom));
    background-position: calc(0px * var(--ea-zoom)) calc(0px * var(--ea-zoom));
    z-index: 1;
    transform-origin: 75% 40%;
}

.ea-token-trunk-shadow {
    position: absolute;
    width: calc(95px * #{$static-scale} * var(--ea-zoom));
    height: calc(88px * #{$static-scale} * var(--ea-zoom));
    background-image: url('img/token/growth.png');
    image-rendering: -webkit-optimize-contrast;
    background-size: calc(414px * #{$static-scale} * var(--ea-zoom)) calc(352px * #{$static-scale} * var(--ea-zoom));
    background-position: calc(-95px * #{$static-scale} * var(--ea-zoom)) calc(0px * var(--ea-zoom));
    z-index: 0;

    .ea-piece-shadow-inactive & {
        background-image: none;
    }
}

%ea-extend-token-canopy-red {
    background-position: calc(-190px * #{$static-scale} * var(--ea-zoom)) calc(0px * #{$static-scale} * var(--ea-zoom));
}

%ea-extend-token-canopy-green {
    background-position: calc(-190px * #{$static-scale} * var(--ea-zoom)) calc(-88px * #{$static-scale} * var(--ea-zoom));
}

%ea-extend-token-canopy-purple {
    background-position: calc(-190px * #{$static-scale} * var(--ea-zoom)) calc(-176px * #{$static-scale} * var(--ea-zoom));
}

%ea-extend-token-canopy-yellow {
    background-position: calc(-190px * #{$static-scale} * var(--ea-zoom)) calc(-264px * #{$static-scale} * var(--ea-zoom));
}

.ea-token-canopy {
    position: absolute;
    width: calc(112px * #{$static-scale} * var(--ea-zoom));
    height: calc(88px * #{$static-scale} * var(--ea-zoom));
    background-image: url('img/token/growth.png');
    image-rendering: -webkit-optimize-contrast;
    background-size: calc(414px * #{$static-scale} * var(--ea-zoom)) calc(352px * #{$static-scale} * var(--ea-zoom));
    background-position: calc(-190px * #{$static-scale} * var(--ea-zoom)) calc(0px * var(--ea-zoom));
    z-index: 1;
    transform-origin: 75% 40%;
    left: calc(-10px * #{$static-scale} * var(--ea-zoom));

    .ea-token-canopy-red & {
        @extend %ea-extend-token-canopy-red;
    }

    .ea-token-canopy-green & {
        @extend %ea-extend-token-canopy-green;
    }

    .ea-token-canopy-purple & {
        @extend %ea-extend-token-canopy-purple;
    }

    .ea-token-canopy-yellow & {
        @extend %ea-extend-token-canopy-yellow;
    }

    @for $id from 10001 through 10283 {
        @if ($id % 4)==0 {
            [data-card-id="#{$id}"] & {
                @extend %ea-extend-token-canopy-red;
            }
        }

        @if ($id % 4)==1 {
            [data-card-id="#{$id}"] & {
                @extend %ea-extend-token-canopy-green;
            }
        }

        @if ($id % 4)==2 {
            [data-card-id="#{$id}"] & {
                @extend %ea-extend-token-canopy-purple;
            }
        }

        @if ($id % 4)==3 {
            [data-card-id="#{$id}"] & {
                @extend %ea-extend-token-canopy-yellow;
            }
        }
    }
}

.ea-token-canopy-shadow {
    position: absolute;
    width: calc(112px * #{$static-scale} * var(--ea-zoom));
    height: calc(88px * #{$static-scale} * var(--ea-zoom));
    background-image: url('img/token/growth.png');
    image-rendering: -webkit-optimize-contrast;
    background-size: calc(414px * #{$static-scale} * var(--ea-zoom)) calc(352px * #{$static-scale} * var(--ea-zoom));
    background-position: calc(-302px * #{$static-scale} * var(--ea-zoom)) calc(0px * var(--ea-zoom));
    z-index: 0;
    left: calc(-10px * #{$static-scale} * var(--ea-zoom));

    .ea-piece-shadow-inactive & {
        background-image: none;
    }
}

// Icons
$icon-name-list: 'ea-icon-scoring',
'ea-icon-card-type-bush',
'ea-icon-card-type-ecosystem',
'ea-icon-card-type-event',
'ea-icon-card-type-fauna',
'ea-icon-card-type-gaia',
'ea-icon-card-type-herb',
'ea-icon-card-type-joker',
'ea-icon-card-type-mushroom',
'ea-icon-card-type-terrain',
'ea-icon-card-type-tree',
'ea-icon-card-type-climate',
'ea-icon-compost-destroy',
'ea-icon-compost-from-deck',
'ea-icon-compost-from-hand',
'ea-icon-draw-from-deck',
'ea-icon-gaia-tableau',
'ea-icon-growth',
'ea-icon-growth-scoring',
'ea-icon-habitat-cold',
'ea-icon-habitat-rocky',
'ea-icon-habitat-sunny',
'ea-icon-habitat-wet',
'ea-icon-card-type-island',
'ea-icon-plant',
'ea-icon-soil',
'ea-icon-sprout',
'ea-icon-germinate',
'ea-icon-leaf',
'ea-icon-seed',
'ea-icon-compost',
'ea-icon-player-both',
'ea-icon-player-left',
'ea-icon-player-one',
'ea-icon-player-others',
'ea-icon-sprout-additional';
$icon-counter: -1;

@each $icon-name in $icon-name-list {
    $icon-counter: $icon-counter + 1;

    .#{$icon-name} {
        width: calc(60px * var(--ea-zoom));
        height: calc(60px * var(--ea-zoom));
        background-image: url('img/icon/icons.png');
        image-rendering: -webkit-optimize-contrast;
        background-size: calc(120px * var(--ea-zoom)) calc(#{list.length($icon-name-list) * 60}px * var(--ea-zoom));
        background-position-x: calc(-60px * var(--ea-zoom));
        background-position-y: calc(#{$icon-counter * -60}px * var(--ea-zoom));

        .standard_popin & {
            display: inline-block;
            background-position-x: calc(0px * var(--ea-zoom));
        }

        .ea-objective-detail-progress & {
            display: inline-block;
            background-position-x: calc(0px * var(--ea-zoom));
            --ea-zoom: 0.3;
        }

        .ea-card-container &,
        .ea-gaia-round-popup & {
            background-position-x: calc(0px * var(--ea-zoom));
        }

        #player_boards .ea-objective-button &,
        #maintitlebar_content .bgabutton &,
        #maintitlebar_content .bgabutton.bgabutton_blue .ea-main-action-id-color.ea-main-action-id-color-0 & {
            background-position-x: calc(-60px * var(--ea-zoom));
        }

        #player_boards &,
        #maintitlebar_content .bgabutton.bgabutton_gray &,
        #maintitlebar_content .bgabutton.bx-top-button-invalid &,
        #maintitlebar_content .bgabutton .ea-main-action-id-color &,
        #maintitlebar_content .bgabutton.ea-main-action-id-color-1 &,
        #maintitlebar_content .bgabutton.ea-main-action-id-color-2 &,
        #maintitlebar_content .bgabutton.ea-main-action-id-color-3 & {
            background-position-x: calc(0px * var(--ea-zoom));
        }

        #maintitlebar_content &,
        #logs &,
        #chatbar & {
            background-position-x: calc(0px * var(--ea-zoom));
            position: relative;
            display: inline-block;
            vertical-align: middle;
            margin-left: 0.1rem;
        }

        #ea-scorepad & {
            display: inline-block;
            vertical-align: middle;
            background-position-x: calc(0px * var(--ea-zoom));
        }
    }
}

.ea-game-icon {
    width: 50px;
    height: 50px;
    background-image: url('img/icon/game-icon.jpg');
    float: right;
    border-radius: 5px;
    margin: 15px;
}

// Main action bubbles
.ea-main-action-id-color {
    display: inline-block;
    vertical-align: middle;
    min-width: 20px;
    min-height: 12px;
    margin-left: 0.1rem;
    border: 2px black solid;
    border-radius: 5px;
    padding: 2.5px;
    color: black;

    .bgabutton & {
        border: 2px white solid;
    }

    .bgabutton.bgabutton_gray & {
        border: 2px black solid;
    }
}

$main-action-color-0: #44753d;
$main-action-color-1: #e26745;
$main-action-color-2: #87cdba;
$main-action-color-3: #dcc84f;

.ea-main-action-id-color-0.ea-main-action-id-color-0,
.ea-main-action-id-color-0.ea-main-action-id-color-0:active {
    background-color: $main-action-color-0;
    color: white;
}

.ea-main-action-id-color-0.ea-main-action-id-color-0:hover {
    background-color: color.adjust($main-action-color-0, $lightness: 5%);
}

.ea-main-action-id-color-1.ea-main-action-id-color-1,
.ea-main-action-id-color-1.ea-main-action-id-color-1:active {
    background-color: $main-action-color-1;
    color: black;
}

.ea-main-action-id-color-1.ea-main-action-id-color-1:hover {
    background-color: color.adjust($main-action-color-1, $lightness: 5%);
    color: black;
}

.ea-main-action-id-color-2.ea-main-action-id-color-2,
.ea-main-action-id-color-2.ea-main-action-id-color-2:active {
    background-color: $main-action-color-2;
    color: black;
}

.ea-main-action-id-color-2.ea-main-action-id-color-2:hover {
    background-color: color.adjust($main-action-color-2, $lightness: 5%);
    color: black;
}

.ea-main-action-id-color-3.ea-main-action-id-color-3,
.ea-main-action-id-color-3.ea-main-action-id-color-3:active {
    background-color: $main-action-color-3;
    color: black;
}

.ea-main-action-id-color-3.ea-main-action-id-color-3:hover {
    background-color: color.adjust($main-action-color-3, $lightness: 5%);
    color: black;
}

// Ability color bubbles
.ea-ability-color {
    display: inline-block;
    vertical-align: middle;
    min-width: 20px;
    min-height: 12px;
    margin-left: 0.1rem;
    border: 2px black solid;
    border-radius: 5px;
    padding: 2.5px;
    color: white;
    border: 2px white solid;
}

.ea-ability-color.ea-ability-color-1 {
    background-color: $main-action-color-1;
}

.ea-ability-color.ea-ability-color-2 {
    background-color: $main-action-color-3;
    color: black;
}

.ea-ability-color.ea-ability-color-4 {
    background-color: $main-action-color-2;
    color: black;
}

.ea-ability-color.ea-ability-color-8 {
    background-color: $main-action-color-0;
}

.ea-ability-color.ea-ability-color-16 {
    background-color: #88754c;
}

.ea-ability-color.ea-ability-color-32 {
    background-color: black;
}

// Scorepad
#ea-scorepad-container {
    display: flex;
    justify-content: center;
    background-color: #ffffff80;
    margin: 1rem;
    border-radius: 10px;
    padding: 1rem;
}

#ea-scorepad {
    background-image: url('img/scorepad.jpg');
    background-size: cover;
    padding: 1rem;
}

#ea-scorepad-table {
    thead td {
        font-weight: bold;
    }

    td {
        padding: 10px;
        text-align: center;
    }

    td:first-child {
        font-weight: bold;
    }

    td:not(:first-child) {
        border-left: 1px solid #00000050;
    }

    tbody tr {
        border-top: 1px solid #00000050;
    }

    tbody tr:last-child {
        font-weight: bold;
    }

    .ea-scorepad-icon-container {
        background-color: #9cbb70;
        padding-top: 5px;
        padding-bottom: 5px;
        padding-left: 15px;
        padding-right: 15px;
        border-radius: 5px;
    }
}

.ea-card-score {
    color: white;
    -webkit-text-stroke-color: black;
    -webkit-text-stroke-width: 1px;
    font-size: calc(120px * var(--ea-zoom));
    font-weight: bold;

    #ea-fauna-board & {
        font-size: calc(50px * var(--ea-zoom));
    }
}

// Player panel
#player_boards {
    --ea-zoom: 0.3;
}

.ea-option-panel {
    font-size: 80%;
}

.ea-player-panel-row {
    margin-top: 5px;
    display: flex;
    align-items: center;
    justify-content: center;

    &.ea-player-panel-row-tableau {
        justify-content: space-evenly;
    }
}

.ea-player-panel-pill {
    display: flex;
    flex-direction: column;
    align-items: center;
    background-color: #ffffffaa;
    margin: 2px;
    border-radius: 5px;
    padding-top: 5px;
    padding-left: 5px;
    padding-right: 5px;

    .ea-pill-counter {
        margin-left: 3px;
        margin-right: 3px;
        font-size: 0.8rem;
    }
}

.ea-player-panel-tableau-overview {
    position: relative;
    margin-right: 3px;
}

.ea-player-panel-island-climate-overview {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;

    .ea-mini-card {
        position: relative;
    }
}

.ea-mini-card {
    position: absolute;
    display: flex;
    width: 10px;
    height: 15px;
    border: 2px black solid;
    border-radius: 3px;
    margin: 1px;

    &.ea-multicolor {
        flex-direction: column;
    }
}

.ea-mini-ability {
    flex: 1 1 0px;
    width: 0px;
    box-sizing: border-box;

    .ea-multicolor & {
        width: 100%;
    }

    &:not(:first-child) {
        border-left: 1px solid #ffffff66;
    }
}

.ea-mini-ability-color-1 {
    // AB_COLOR_RED
    background-color: orangered;
}

.ea-mini-ability-color-2 {
    // AB_COLOR_YELLOW
    background-color: yellow
}

.ea-mini-ability-color-4 {
    // AB_COLOR_BLUE
    background-color: aqua
}

.ea-mini-ability-color-8 {
    // AB_COLOR_GREEN
    background-color: green;
}

.ea-mini-ability-color-16 {
    // AB_COLOR_BROWN
    background-color: #7d6e45;
}

.ea-mini-ability-color-32 {
    // AB_COLOR_BLACK
    background-color: #333333;
}

.ea-token-first-player {
    width: 50px;
    height: 50px;
    background-image: url('img/token/first_player.png');
    image-rendering: -webkit-optimize-contrast;
    background-size: 50px 50px;
}

.ea-token-active-player {
    width: calc(470px * 0.9 * #{$static-scale} * var(--ea-zoom));
    height: calc(293px * 0.9 * #{$static-scale} * var(--ea-zoom));
    background-image: url('img/token/active_player.jpg');
    image-rendering: -webkit-optimize-contrast;
    background-size: calc(470px * 0.9 * #{$static-scale} * var(--ea-zoom)) calc(293px * 0.9 * #{$static-scale} * var(--ea-zoom));
    box-shadow: 0px 0px 3px black;
    border-radius: calc(15px * #{$static-scale} * var(--ea-zoom));

    .ea-background-dark .ea-area-player-board & {
        box-shadow: 0px 0px 3px white;
    }

    #player_boards & {
        --ea-zoom: 0.2;
    }
}

.ea-token-active-player-container {
    width: calc(470px * 0.9 * var(--ea-zoom));
    height: calc(293px * 0.9 * var(--ea-zoom));
    transition: opacity 0.5s;

    display: flex;
    align-items: center;
    justify-content: center;

    #player_boards & {
        --ea-zoom: 0.2;
    }
}

// UI Icons
.ea-ui-button {
    margin: 5px;
    border: 2px solid transparent;
    border-radius: 5px;
    box-shadow: 0px 0px 3px black;
}

.ea-ui-button.ea-ui-selected {
    border: 2px solid blue;
}

.ea-ui-icon-hand-above {
    width: 40px;
    height: 40px;
    background-image: url('img/icon/ui.png');
    background-size: 40px 80px;
    background-position-x: 0px;
    background-position-y: 0px;
}

.ea-ui-icon-hand-below {
    width: 40px;
    height: 40px;
    background-image: url('img/icon/ui.png');
    background-size: 40px 80px;
    background-position-x: 0px;
    background-position-y: 0px;
    transform: rotate(180deg);
}

.ea-ui-icon-hand-fixed {
    width: 40px;
    height: 40px;
    background-image: url('img/icon/ui.png');
    background-size: 40px 80px;
    background-position-x: 0px;
    background-position-y: -40px;
}

// Bottom of cards
.ea-card-bottom {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: transparent;
    border-bottom-left-radius: calc(20px * #{$static-scale} * var(--ea-zoom));
    border-bottom-right-radius: calc(20px * #{$static-scale} * var(--ea-zoom));
    padding-right: 10px;
    position: relative;
    width: calc(90% - 10px);
    top: -5px;
    left: 5%;
    z-index: 0;

    .ea-hide-card-bottom.ea-hide-card-bottom.ea-hide-card-bottom & {
        display: none;
    }

    #ea-area-card-hand &,
    .ea-area-player-tableau &,
    #ea-area-card-end-turn-container & {
        background-color: #ffffff80;
    }

    .ea-hand-float #ea-area-card-hand & {
        background-color: #ffffffff;
    }

    .ea-player-board-event & {
        display: none;
    }

    #ea-gaia-board & {
        display: none;
    }

    #logs &,
    #chatbar & {
        display: none;
    }

    .bx-moving & {
        display: none;
    }

    i {
        text-shadow: 0px 0px 5px white;
    }

    [data-card-tag="0"] {
        color: #009e73;

        .ea-colorblind-inactive & {
            color: green;
        }
    }

    [data-card-tag="1"] {
        color: #0072b2;

        .ea-colorblind-inactive & {
            color: #9e6600;
        }
    }

    [data-card-tag="2"] {
        color: #d55e00;

        .ea-colorblind-inactive & {
            color: red;
        }
    }
}

.ea-card-help {
    background-color: #144364;
    border: 1px solid #08283e;
    border-radius: 5px;
    cursor: pointer;
    margin-top: 10px;
    margin-bottom: 10px;
    margin-left: 10px;
    vertical-align: middle;
    color: white;
    font-size: 14px;
    font-weight: bold;
    padding: 6px 12px;
    box-shadow: 0 1px 0 #000;

    &::after {
        content: "?";
    }
}

.ea-card-score-line {
    background-color: #820da9;
    border: 1px solid #4c0f60;
    border-radius: 5px;
    cursor: pointer;
    margin-top: 10px;
    margin-bottom: 10px;
    margin-left: 10px;
    vertical-align: middle;
    color: white;
    font-size: 14px;
    font-weight: bold;
    padding: 6px 12px;
    box-shadow: 0 1px 0 #000;

    &::after {
        content: "+";
    }
}

.ea-card-tag {
    position: absolute;
    bottom: 0px;
    left: 3px;
    width: calc(50px * #{$static-scale} * var(--ea-zoom));
    height: calc(50px * #{$static-scale} * var(--ea-zoom));
    color: transparent;
    background-color: transparent;
    font-size: calc(30px * #{$static-scale} * var(--ea-zoom));
    text-shadow: none;
    display: none;

    &::after {
        content: "\f024";
        text-rendering: auto;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        display: inline-block;
        font: normal normal normal 14px/1 FontAwesome;
        font-size: inherit;
    }
}

.ea-card-tag-add {
    display: none;
}

.ea-card-tag-remove {
    display: none;
}

#ea-area-card-hand {

    // Tag on card
    [data-card-tag="0"] .ea-card-tag {
        color: #009e73;

        .ea-colorblind-inactive & {
            color: green;
        }

        text-shadow: 0px 0px 1px black;
        display: block;
    }

    [data-card-tag="1"] .ea-card-tag {
        color: #0072b2;

        .ea-colorblind-inactive & {
            color: #9e6600;
        }

        text-shadow: 0px 0px 1px black;
        display: block;
    }

    [data-card-tag="2"] .ea-card-tag {
        color: #d55e00;

        .ea-colorblind-inactive & {
            color: red;
        }

        text-shadow: 0px 0px 1px black;
        display: block;
    }

    .ea-card-tag-add {
        display: block;
    }

    .ea-card-tag-remove {
        display: none;
    }

    // Tag bottom: 0
    [data-card-tag="0"] .ea-card-tag-add[data-card-tag="0"] {
        display: none;
    }

    [data-card-tag="0"] .ea-card-tag-remove[data-card-tag="0"] {
        display: block;
    }

    [data-card-tag="1"] .ea-card-tag-remove[data-card-tag="0"] {
        display: none;
    }

    [data-card-tag="2"] .ea-card-tag-remove[data-card-tag="0"] {
        display: none;
    }

    // Tag bottom: 1
    [data-card-tag="1"] .ea-card-tag-add[data-card-tag="1"] {
        display: none;
    }

    [data-card-tag="0"] .ea-card-tag-remove[data-card-tag="1"] {
        display: none;
    }

    [data-card-tag="1"] .ea-card-tag-remove[data-card-tag="1"] {
        display: block;
    }

    [data-card-tag="2"] .ea-card-tag-remove[data-card-tag="1"] {
        display: none;
    }

    // Tag bottom: 2
    [data-card-tag="2"] .ea-card-tag-add[data-card-tag="2"] {
        display: none;
    }

    [data-card-tag="0"] .ea-card-tag-remove[data-card-tag="2"] {
        display: none;
    }

    [data-card-tag="1"] .ea-card-tag-remove[data-card-tag="2"] {
        display: none;
    }

    [data-card-tag="2"] .ea-card-tag-remove[data-card-tag="2"] {
        display: block;
    }
}


// Card detail
@keyframes ea-wiggle {
    0% {
        transform: perspective(60em) rotateY(-12deg) scale(.93);
        animation-timing-function: ease-in-out
    }

    to {
        transform: perspective(60em) rotateY(-2deg) scale(.93);
        animation-timing-function: ease-in-out
    }
}

.ea-dialog-card-detail-grid {
    display: grid;
    grid-template-columns: min-content auto min-content;
    font-size: 2rem;
    padding: 0px;
    width: 100%;

    [data-card-tag="0"] {
        color: #009e73;

        .ea-colorblind-inactive & {
            color: green;
        }
    }

    [data-card-tag="1"] {
        color: #0072b2;

        .ea-colorblind-inactive & {
            color: #9e6600;
        }
    }

    [data-card-tag="2"] {
        color: #d55e00;

        .ea-colorblind-inactive & {
            color: red;
        }
    }

    .ea-dialog-card-detail-container {
        grid-row: 2/2;
        grid-column: 2/2;
        display: flex;
        justify-content: center;

        .ea-card {
            overflow: visible;
            box-shadow: 0px 0px 3px black,
                0px calc(30px * var(--ea-zoom)) calc(40px * var(--ea-zoom)) calc(-25px * var(--ea-zoom)) rgb(0 0 0 / 48%);
            animation: ea-wiggle 5s infinite alternate;

            // Remove animation on iOS
            .bx-browser-is-ios & {
                animation: none;
                ;
            }
        }

        .ea-dialog-card-detail-tag-float {
            display: block;
            position: absolute;
            bottom: 1rem;
            left: -2rem;
            font-size: 1.5rem;
        }
    }

    .ea-dialog-card-detail-jumper {
        grid-row: 1/1;
        grid-column: 2/2;
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        font-size: 0.8rem;
        margin-bottom: 10px;

        >* {
            margin-left: 0.5rem;
            margin-right: 0.5rem;
            cursor: pointer;
            text-decoration: underline #00000040 solid;
        }

        >*.ea-dialog-card-detail-player-name {
            cursor: auto;
            text-decoration: none;
            font-weight: bold;
        }

        .ea-dialog-card-detail-jump-selected {
            text-decoration: none;
            border-top: 1px black solid;
            border-bottom: 1px black solid;
        }
    }

    .ea-dialog-card-detail-flag {
        grid-row: 3/3;
        grid-column: 2/2;
        font-size: 1rem;
        display: flex;
        flex-direction: row;
        justify-content: center;
        margin: 10px;

        >* {
            margin-left: 1.5rem;
            margin-right: 1.5rem;
            cursor: pointer;
        }

        .ea-card-tag-add,
        .ea-card-tag-remove {
            display: block;
        }
    }

    .ea-dialog-card-detail-description {
        grid-row: 4/4;
        grid-column: 1/3;
        font-size: 1rem;

        >* {
            margin-left: 2rem;
        }

        ul {
            margin-left: 2rem;
        }

        li {
            list-style: disc;
        }
    }

    .ea-dialog-card-detail-left {
        display: flex;
        justify-content: center;
        align-items: center;
        padding-right: 1rem;
        padding-left: 10px;
        grid-row: 2/2;
        grid-column: 1/1;
        cursor: pointer;
    }

    .ea-dialog-card-detail-right {
        display: flex;
        justify-content: center;
        align-items: center;
        padding-left: 1rem;
        padding-right: 10px;
        grid-row: 2/2;
        grid-column: 3/3;
        cursor: pointer;
    }
}

// Shortcuts
#ea-shortcut-area {
    position: fixed;
    top: 40%;
    left: 0px;
    z-index: 50;
    background-color: #ffffffaa;
    padding: 0.5rem;
    border-right: 2px #5d844d9e solid;
    border-bottom: 2px #5d844d9e solid;
    border-top: 2px #5d844d9e solid;
    border-top-right-radius: 10px;
    border-bottom-right-radius: 10px;
    font-size: 80%;
    text-decoration: underline #00000040 solid;
    max-width: 6rem;

    .ea-shortcuts-hidden & {
        display: none;
    }

    >* {
        margin-top: 0.8rem;
        cursor: pointer;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    > :first-child {
        margin-top: 0px;
    }

    .ea-shortcut-is-player {
        font-style: italic;
    }
}

.ea-objective-button {
    --ea-zoom: 0.3;
    background-color: #144364;
    color: white;
    border: 1px solid #08283e;
    cursor: pointer;
    box-shadow: 0 1px 0 #000;
}

#popin_ea-dialog-objective-detail {
    ul {
        margin-left: 1rem;
    }

    li {
        list-style: disc;
        margin-top: 5px;
    }

    .ea-dialog-objective-detail-player {
        margin-bottom: 10px;
        font-weight: bold;
        display: grid;
        grid-template-columns: 1fr auto 1fr;

        .ea-dialog-objective-detail-player-name {
            padding-left: 2rem;
            padding-right: 2rem;
            display: flex;
            align-items: center;
        }

        .ea-dialog-objective-detail-player-left,
        .ea-dialog-objective-detail-player-right {
            cursor: pointer;
            font-size: 2rem;
        }
    }

    .ea-dialog-objective-detail-grid {
        display: grid;
        grid-template-columns: 1fr auto 1fr;

        .ea-card {
            grid-column: 2/2;
            margin-bottom: 5px;
        }

        .ea-objective-detail-leaf-container {
            grid-column: 1/1;
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: right;

            .ea-token-leaf {
                margin-right: 10px;
            }
        }

        .ea-objective-detail-progress {
            grid-column: 3/3;
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: calc(1.4rem * var(--ea-zoom));
            padding-left: calc(1.4rem * var(--ea-zoom));
        }
    }

    .ea-dialog-objective-detail-description {
        font-size: 1rem;

        @media (pointer: coarse) {
            font-size: 0.8rem;
        }
    }
}

#popin_ea-leaf-dialog {
    --ea-zoom: 1;

    #popin_ea-leaf-dialog_contents {
        display: flex;
        flex-direction: column;
        flex-wrap: wrap;
        overflow-wrap: break-word;
        text-align: center;
        align-items: center;

        .ea-card-container {
            margin: 20px;
        }

        .ea-card-bottom {
            display: none;
        }
    }
}

// Shake from https://css-tricks.com/snippets/css/shake-css-keyframe-animation/
.ea-pill-shake {
    animation: ea-shake 1.64s cubic-bezier(.36, .07, .19, .97) infinite;
    transform: translate3d(0, 0, 0);
    backface-visibility: hidden;
    perspective: 1000px;
    background-color: #d71f1faa;
    border: 1px solid #d91111;
    box-shadow: 0 1px 0 #950808;

    &::after {
        position: absolute;
        top: -8px;
        right: -8px;
        width: 15px;
        height: 15px;
        content: "!";
        color: red;
        font-size: 13px;
        font-weight: bold;
        background-color: white;
        text-align: center;
        border-radius: 1000px;
        border: 1px red solid;
    }
}

@keyframes ea-shake {

    5%,
    45% {
        transform: translate3d(-1px, 0, 0);
    }

    10%,
    40% {
        transform: translate3d(2px, 0, 0);
    }

    15%,
    25%,
    35% {
        transform: translate3d(-4px, 0, 0);
    }

    20%,
    30% {
        transform: translate3d(4px, 0, 0);
    }

    50% {
        transform: translate3d(0, 0, 0);
    }

    100% {
        transform: translate3d(0, 0, 0);
    }
}

.ea-gaia-round-popup {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(6);
    z-index: 5000;
    opacity: 0;
    pointer-events: none;

    animation: ea-gaia-round-popup 2s ease-in-out;
}

@keyframes ea-gaia-round-popup {

    0% {
        opacity: 0;
    }

    5%,
    70% {
        opacity: 1;
    }

    100% {
        opacity: 0;
    }
}

// Colorblind
.ea-player-board-action-colorblind {
    .ea-colorblind-inactive & {
        display: none;
    }

    position: absolute;
    top: calc(50% - calc(80px * var(--ea-zoom) / 2));
    width: 100%;
    height: calc(80px * var(--ea-zoom));

    >* {
        width: 100%;
        height: 100%;
    }
}

.ea-colorblind-black {
    background-image: url('img/colorblind/black.png');
    pointer-events: none;
}

.ea-colorblind-blue {
    background-image: url('img/colorblind/blue.png');
    pointer-events: none;
}

.ea-colorblind-brown {
    background-image: url('img/colorblind/brown.png');
    pointer-events: none;
}

.ea-colorblind-green {
    background-image: url('img/colorblind/green.png');
    pointer-events: none;
}

.ea-colorblind-multicolor {
    background-image: url('img/colorblind/multicolor.png');
    pointer-events: none;
}

.ea-colorblind-red {
    background-image: url('img/colorblind/red.png');
    pointer-events: none;
}

.ea-colorblind-yellow {
    background-image: url('img/colorblind/yellow.png');
    pointer-events: none;
}

// Germinate dialog
#popin_ea-germinate-dialog_contents {
    .ea-germinate-buttons {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;

        .bgabutton {
            display: inline-block;
            max-width: fit-content;
            margin: 15px;

            div {
                display: inline-block;
                vertical-align: middle;
            }
        }
    }
}

// Birds
@import 'modules/EA/scss/bird.scss';

// Snow
@import 'modules/EA/scss/snow.scss';